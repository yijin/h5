@{
    Layout = null;
}

<div class="pagination mt10">
    <div class="ui_page">
        @if (ViewBag.Curpage > 1)
        {
            <a data-bn-ipg="pages-1" href="@(ViewBag.Url+ViewBag.Query+(ViewBag.Curpage-1))" class="ui_page_item ui_page_prev" title="上一页">上一页</a>
        }
        @if (ViewBag.Curpage > 6)
        {
            <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query)1" class="ui_page_item " title="第1页">1 ...</a>
        }
        else if (ViewBag.Curpage > 1)
        {
            <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query)1" class="ui_page_item " title="第1页">1</a>
        }

        @for (int i = (2 > (ViewBag.Curpage - 4) ? 2 : (ViewBag.Curpage - 4)); i <= (ViewBag.Curpage - 1); i++)
        {
            <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query+i)" class="ui_page_item " title="第@(i)页">@i</a>
        }
        <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query+ViewBag.Curpage)" class="ui_page_item ui_page_item_current" title="第@(ViewBag.Curpage)页">@ViewBag.Curpage</a>
        @for (int i = (ViewBag.Curpage + 1); i <= ViewBag.Pagecount - 1 && i <= (ViewBag.Curpage + 4); i++)
        {
            <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query+i)" class="ui_page_item " title="第@(i)页">@i</a>
        }

        @if (ViewBag.Curpage < (ViewBag.Pagecount - 4))
        {
            <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query+ViewBag.Pagecount)" class="ui_page_item " title="第@(ViewBag.Pagecount)页">... @(ViewBag.Pagecount)</a>
        }
        else if (ViewBag.Curpage < ViewBag.Pagecount)
        {
            <a data-bn-ipg="pages-3" href="@(ViewBag.Url+ViewBag.Query+ViewBag.Pagecount)" class="ui_page_item " title="第@(ViewBag.Pagecount)页">@(ViewBag.Pagecount)</a>
        }

        @if (ViewBag.Curpage < ViewBag.Pagecount)
        {
            <a data-bn-ipg="pages-5" href="@(ViewBag.Url+ViewBag.Query+(ViewBag.Curpage+1))" class="ui_page_item ui_page_next" title="下一页">下一页</a>
        }

    </div>
</div>